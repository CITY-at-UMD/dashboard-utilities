{"version":3,"file":"index.mjs","sources":["../src/utilities.js","../src/meters.js","../src/index.js"],"sourcesContent":["import {\n  mean,\n  interquartileRange,\n  quantile,\n  min,\n  max,\n  sum,\n  medianAbsoluteDeviation,\n  modeSorted,\n  medianSorted,\n  uniqueCountSorted,\n  variance,\n  standardDeviation\n} from \"simple-statistics\";\nimport {\n  subYears,\n  getYear,\n  format,\n  addMinutes,\n  addHours,\n  addDays,\n  addMonths,\n  addYears,\n  subMonths,\n  startOfMonth,\n  startOfDay,\n  startOfYear,\n  endOfYear,\n  endOfMonth,\n  endOfDay,\n  differenceInYears,\n  parse,\n  getHours,\n  getMinutes,\n  setHours,\n  setMinutes,\n  setSeconds\n} from \"date-fns\";\n\n// Conversions\nconst conversionFactors = {\n  electricity: {\n    energy: 3.4121416331, // kWh to kBtu\n    cost: 0.111, //$/kWh,\n    emissions: 0.53 //CO2e\n  },\n  steam: {\n    energy: 1.19, // lbs to kBtu,\n    cost: 0.0255, //$/lbs,\n    emissions: 0.1397 //CO2e\n  },\n  hw: {\n    energy: 1, // kBtu to kBtu,\n    cost: 0, //$/kBtu,\n    emissions: 0 //CO2e\n  },\n  water: {\n    energy: 0, // gals to kBtu,\n    cost: 0.019, //$/gal,\n    emissions: 0 //CO2e\n  },\n  chw: {\n    energy: 12, // TonHrs to kBtu,\n    cost: 0.186, //$/TonHr,\n    emissions: 0 //CO2e\n  },\n  ng: {\n    energy: 99.9761, // therm to kBtu,\n    cost: 0, //$/kWh,\n    emissions: 11.7 //therm to lbs CO2e\n  }\n};\nconst convert = (value, meterType, to) => {\n  return value * conversionFactors[meterType][to];\n};\n// Buildings and Meters\nconst units = {\n  electricity: [\"kWh\", \"MWh\", \"MJ\", \"kW\"],\n  steam: [\"lbs\", \"kBtu\", \"btu\"],\n  chw: [\"ton-hr\", \"kBtu\", \"btu\"],\n  ng: [\"therm\", \"ccf\", \"mcf\", \"kBtu\"],\n  oil: [\"gals\", \"barallel\", \"kBtu\", \"btu\"],\n  water: [\"gals\"]\n};\n\n// Formatting\nconst capFirst = (string = \"\") =>\n  string.replace(\n    /\\w\\S*/g,\n    txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n  );\nconst replaceAll = (string = \"\", search, replacement) =>\n  string.replace(new RegExp(search, \"g\"), replacement);\nconst stringifyID = id =>\n  id < 10 ? `00${id}` : id < 100 ? `0${id}` : String(id);\nconst formatNumber = number =>\n  isNaN(number) ? \"0\" : parseInt(Math.round(number), 10).toLocaleString();\nconst formatFloat = number =>\n  isNaN(number) ? \"0\" : parseFloat(number).toLocaleString();\nconst formatPercent = number =>\n  isNaN(number) ? \"0\" : formatNumber(number * 100);\nconst toURLQuery = obj =>\n  \"?\".concat(\n    Object.keys(obj)\n      .map(k => [k, obj[k]].join(\"=\"))\n      .join(\"&\")\n  );\nconst parseQueryParams = query =>\n  new Map(\n    query\n      .replace(\"?\", \"\")\n      .split(\"&\")\n      .map(s => s.split(\"=\"))\n  );\n//Map\nconst calcScale = (values, units = \"\") => {\n  values = values.filter(v => v > 0);\n  if (values.length < 1) return { low: 1, high: 2, max: 3 };\n  return {\n    low: parseInt(quantile(values, 0.5), 10),\n    high: parseInt(quantile(values, 0.75), 10),\n    max: parseInt(max(values), 10),\n    units\n  };\n};\nconst chooseIcon = (basename, { low, high }, value) => {\n  let icon = `${basename}-err`;\n  if (!value || !low || !high) return icon;\n  value <= low\n    ? (icon = `${basename}-low`)\n    : value <= high ? (icon = `${basename}-med`) : (icon = `${basename}-high`);\n  return icon;\n};\n//Charting Functions\nconst timeseriesToXY = (data, scale = 1) =>\n  data.map(v => ({\n    x: new Date(v[0]),\n    y: v[1] / scale\n  }));\n// General Functions & Adjustments\nconst calcProgress = (value, baseline) => (value - baseline) / baseline;\nconst normalize = (x, min, max) => (x - min) / (max - min);\nconst normalizeBack = (x, min, max) => x * (max - min) + min;\nconst euiTimeScaler = (startDate, endDate) => {\n  if (isNaN(startDate)) {\n    startDate = new Date(startDate).valueOf();\n  }\n  if (isNaN(endDate)) {\n    endDate = new Date(endDate).valueOf();\n  }\n  let msyear = 31557600000; // 365.25 days\n  return msyear / (endDate - startDate);\n};\nconst validEmail = string => {\n  let nr = new RegExp(\n    // eslint-disable-next-line\n    /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  );\n  return Boolean(string.match(nr));\n};\n// Statistics\nconst calcCVRMSE = (actual, simulated) => {\n  var diffArray = [],\n    actualValues = [];\n  for (var i in actual) {\n    diffArray.push(Math.pow(actual[i] - simulated[i], 2));\n    actualValues.push(actual[i]);\n  }\n  var n = diffArray.length,\n    p = 1.0;\n  var ybar = sum(actualValues) / actualValues.length;\n  var cvrmse = Math.sqrt(sum(diffArray) / (n - p)) / ybar;\n  return cvrmse * 100;\n};\nconst calcNMBE = (actual, simulated) => {\n  var diffArray = [],\n    actualValues = [];\n  for (var i in actual) {\n    diffArray.push(actual[i] - simulated[i]);\n    actualValues.push(actual[i]);\n  }\n  var n = diffArray.length,\n    p = 1.0;\n  var ybar = sum(actualValues) / actualValues.length;\n  var nmbe = sum(diffArray) / ((n - p) * ybar);\n  return nmbe * 100;\n};\nconst dataStatistics = (values, filterZero = false) => {\n  if (filterZero) {\n    values = values.filter(v => v > 0);\n  }\n  if (values.length < 2) {\n    // throw new Error('Not Enough Values')\n    return {};\n  }\n  values = values.sort();\n  let iq = interquartileRange(values),\n    q1 = quantile(values, 0.25),\n    q3 = quantile(values, 0.75),\n    lowerInnerFence = q1 - 1.5 * iq,\n    lowerOuterFence = q3 - 3 * iq,\n    upperInnerFence = q1 + 1.5 * iq,\n    upperOuterFence = q3 + 3 * iq;\n  return {\n    iq,\n    q1,\n    q3,\n    lowerInnerFence,\n    lowerOuterFence,\n    upperInnerFence,\n    upperOuterFence,\n    min: min(values),\n    max: max(values),\n    mean: mean(values),\n    mode: modeSorted(values),\n    median: medianSorted(values),\n    medianAbsoluteDeviation: medianAbsoluteDeviation(values),\n    uniqueCountSorted: uniqueCountSorted(values),\n    standardDeviation: standardDeviation(values),\n    variance: variance(values)\n  };\n};\nconst boxPlot = (values, filterZero = false) => {\n  if (filterZero) {\n    values = values.filter(v => v > 0);\n  }\n  if (values.length < 2) {\n    throw new Error(\"not enough values\");\n  }\n  let q1 = quantile(values, 0.25),\n    q3 = quantile(values, 0.75),\n    minVal = min(values),\n    maxVal = max(values);\n  return {\n    q1,\n    q3,\n    min: minVal,\n    max: maxVal\n  };\n};\n\n// Dates\nconst intervalStart = (date, interval) => {\n  //Supported Intervals: day, month, year\n  let t;\n  switch (interval) {\n    case \"day\":\n      t = startOfDay(date);\n      break;\n    case \"month\":\n      t = startOfMonth(date);\n      break;\n    default:\n      t = startOfYear(date);\n  }\n  return t.valueOf();\n};\nconst dateRange = (startDate, endDate, interval, step = 1) => {\n  // Supported Inervals: minutes,hour,day, month, year\n  startDate = parse(startDate);\n  endDate = parse(endDate);\n  let range = [startDate];\n  if (startDate >= endDate) return [];\n  while (range[range.length - 1].valueOf() < endDate.valueOf()) {\n    let d;\n    switch (interval) {\n      case \"minute\":\n        d = addMinutes(range[range.length - 1], step);\n        break;\n      case \"hour\":\n        d = addHours(range[range.length - 1], step);\n        break;\n      case \"day\":\n        d = addDays(range[range.length - 1], step);\n        break;\n      case \"month\":\n        d = addMonths(range[range.length - 1], step);\n        break;\n      default:\n        d = addYears(range[range.length - 1], step);\n    }\n    range.push(d);\n  }\n  return range;\n};\n\n// Timeseries [[dateTime, value, origionalValue], ...]\n// Stats\nconst minTimeseries = ts => min(ts.map(v => v[1]));\nconst maxTimeseries = ts => max(ts.map(v => v[1]));\nconst maxTimeseriesWithDate = ts => ts.sort((a, b) => b[1] - a[1])[0];\nconst cardinalityTimeseries = ts => new Set(ts.map(v => v[1])).size;\nconst getFirstTimestamp = ts => new Date(min(ts.map(v => v[0])));\nconst getLastTimestamp = ts => new Date(max(ts.map(v => v[0])));\n// Reduce\nconst reduceTimeseries = (...arrays) =>\n  [\n    ...arrays.map(a => new Map(a)).reduce((a, b) => {\n      for (var date of b.keys()) {\n        a.has(date)\n          ? a.set(date, b.get(date) + a.get(date))\n          : a.set(date, b.get(date));\n      }\n      return a;\n    }, new Map())\n  ].sort((a, b) => a[0] - b[0]);\n// Cleaning\nconst cleanTimeseries = (data, replacement, min, max) => {\n  data = data.map(\n    v => (v[1] > max || v[1] < min ? [v[0], replacement, v[1]] : v)\n  );\n  return data;\n};\nconst uncleanTimeseries = data => data.map(r => (r[2] ? [r[0], r[2]] : r));\nconst interpolateTimeseries = (array, index) => {\n  let prevIndex = index - 1 < 0 ? 0 : index - 1;\n  let prev = array\n    .slice(0, prevIndex)\n    .filter(v => v[1])\n    .reverse()[0];\n  let next = array.slice(index + 1).filter(v => v[1])[0];\n  return ((prev ? prev[1] : 0) + (next ? next[1] : 0)) / 2;\n};\nconst cleanTimeseriesInterpolate = (data, min, max) => {\n  data = data\n    .map(v => (isNaN(v[1]) ? [v[0], 0, v[1]] : v))\n    .map(v => (v[1] < min ? [v[0], null, v[1]] : v)) //min\n    .map(v => (v[1] > max ? [v[0], null, v[1]] : v)) //max\n    .map((v, i, array) => {\n      if (!v[1]) {\n        let avg = interpolateTimeseries(array, i);\n        return [v[0], avg, v[2]];\n      } else {\n        return v;\n      }\n    }); //interpolate\n  return data;\n};\n// Filtering\nconst filterTimeseries = (data, startDate, endDate) =>\n  data.filter(t => t[0] >= startDate && t[0] <= endDate);\n// Mapping\nconst valuesTimeseries = data => data.map(v => v[1]);\n// Pre Allocate\nconst preAllocateTimeseriesMinutes = () => {\n  let o = {};\n  for (var h = 0; h < 24; h++) {\n    o[h] = {};\n    for (var m = 0; m < 60; m++) {\n      o[h][m] = null;\n    }\n  }\n  return o;\n};\n// const preAllocateTimeseriesSeconds = () => {\n//   let o = {};\n//   for (var h = 0; h < 24; h++) {\n//     o[h] = {};\n//     for (var m = 0; m < 60; m++) {\n//       o[h][m] = {};\n//       for (var s = 0; s < 60; s++) {\n//         o[h][m][s] = null;\n//       }\n//     }\n//   }\n//   return o;\n// };\n// Transform\nconst TimeseriesArrayToObject = data => {\n  let days = groupTimeseries(data, \"day\").map(([day, ts]) => {\n    let obj = preAllocateTimeseriesMinutes();\n    for (var x = 0; x < ts.length; x++) {\n      let hr = getHours(ts[x][0]),\n        m = getMinutes(ts[x][0]);\n      obj[hr][m] = ts[x][1];\n    }\n    return [day, obj];\n  });\n  return days;\n};\nconst TimeseriesObjectToArray = (data, timestamp) => {\n  let array = Object.keys(data)\n    .map(h =>\n      Object.keys(data[h]).map(m =>\n        Object.keys(\n          data[h][m].map(s => [\n            setHours(setMinutes(setSeconds(timestamp, s), m), h),\n            data[h][m]\n          ])\n        )\n      )\n    )\n    .reduce((a, b) => a.concat(b))\n    .sort((a, b) => a[0].valueOf() - b[0].valueOf());\n  return array;\n};\n// Grouping\nconst groupTimeseriesDay = ts =>\n  Object.entries(groupBy(ts, v => startOfDay(v[0]).valueOf())).map(\n    ([day, timeseries]) => [Number(day), timeseries]\n  );\nconst groupTimeseries = (data, interval) => {\n  //Supported Intervals: day, month, year\n  let group = data.map(v => [parse(v[0]).valueOf(), v[1]]).reduce((a, b) => {\n    let t = intervalStart(b[0], interval);\n    if (a.has(t)) {\n      a.set(t, [...a.get(t), b]);\n    } else {\n      a.set(t, [b]);\n    }\n    return a;\n  }, new Map());\n  return [...group];\n};\n// Aggregation\nconst aggregateTimeSeries = (data, interval) => {\n  //Supported Intervals: day, month, year\n  let red = data.map(v => [parse(v[0]), v[1]]).reduce((a, b) => {\n    let ts = intervalStart(b[0], interval);\n    if (!a.has(ts)) {\n      a.set(ts, b[1]);\n    } else {\n      a.set(ts, a.get(ts) + b[1]);\n    }\n    return a;\n  }, new Map());\n  data = [...red].map(v => [new Date(v[0]).valueOf(), v[1]]);\n  return data;\n};\nconst totalTimeseries = data => data.map(a => a[1]).reduce((a, b) => a + b, 0);\nconst averageTimeseries = data => mean(data.map(v => v[1]));\nconst monthlyValueWithTrend = (data, units, month, baseline) => {\n  let dm = new Map(data);\n  if (!dm.has(month.valueOf())) {\n    return { value: 0, trend: { value: null, text: \"\" } };\n  }\n  let value = dm.get(month.valueOf()),\n    baselineValue = dm.get(baseline.valueOf()) || 0;\n  return {\n    value,\n    units,\n    trend: {\n      value: calcProgress(value, baselineValue) * 100,\n      text: `${format(baseline, \"MMM YYYY\")}`\n    }\n  };\n};\n// ETC\nconst isTimeseriesUniform = data => cardinalityTimeseries(data) < 3;\nconst makeDailyTimeseries = (date, value, interval, step) => {\n  let range = dateRange(date, endOfDay(date), interval);\n  let data = range.map((d, i, arr) => [d.valueOf(), value / arr.length]);\n  return data;\n};\nconst findMissingDays = (data, { startDate, endDate } = {}) => {\n  // Sort Data\n  data = data.sort((a, b) => a[0] - b[0]);\n  // Set Default Start Dates\n  if (!startDate) {\n    startDate = data[0][0];\n  }\n  if (!endDate) {\n    endDate = data[data.length - 1][0];\n  }\n  let range = dateRange(startDate, endDate, \"day\");\n  let fullTs = new Set(range.map(d => d.valueOf()));\n  let dataDates = new Set(data.map(d => d[0]));\n  let missing = new Set([...fullTs].filter(d => !dataDates.has(d)));\n  return [...missing];\n};\n\n// Energy\nconst calcMeterTotal = (data, type, startDate, endDate, limit = []) => {\n  let total = Object.keys(data)\n    .filter(k => limit.indexOf(k) === -1)\n    .filter(k => conversionFactors.hasOwnProperty(k) && data[k].length > 0)\n    .map((k, i) =>\n      filterTimeseries(data[k], startDate, endDate).map(v => [\n        v[0],\n        convert(v[1], k, type)\n      ])\n    )\n    .reduce((a, b) => reduceTimeseries(a, b), []);\n  return total;\n};\nconst calcEUI = (data, area, startDate, endDate, limit = []) => {\n  let totalEnergy = totalTimeseries(\n    calcMeterTotal(data, \"energy\", startDate, endDate, limit)\n  );\n  return totalEnergy / area * euiTimeScaler(startDate, endDate);\n};\nconst calcIntensity = (\n  data,\n  type,\n  area,\n  startDate,\n  endDate,\n  limit = [],\n  btu = false\n) => {\n  if ([\"energy\", \"emissions\", \"cost\"].indexOf(type) !== -1) {\n    let totalEnergy = totalTimeseries(\n      calcMeterTotal(data, type, startDate, endDate, limit)\n    );\n    return totalEnergy / area * euiTimeScaler(startDate, endDate);\n  } else {\n    if (!data.hasOwnProperty(type)) return 0;\n    let total = totalTimeseries(\n      filterTimeseries(data[type], startDate, endDate)\n    );\n    let value = total / area * euiTimeScaler(startDate, endDate);\n    return btu ? convert(value, type, \"energy\") : value;\n  }\n};\n\nconst EUIByType = (data, area, startDate, endDate, limit = []) => {\n  let years = new Array(differenceInYears(endDate, startDate) + 1)\n    .fill(0)\n    .map((v, i) => {\n      let y = new Date(startDate.getFullYear() + i, 0);\n      return [y, startOfMonth(endOfYear(y))];\n    });\n  let byType = Object.keys(data)\n    .filter(\n      k =>\n        conversionFactors.hasOwnProperty(k) &&\n        conversionFactors[k].energy > 0 &&\n        limit.indexOf(k) === -1\n    )\n    .map((k, i) =>\n      years.map(year => {\n        let sd = year[0].valueOf();\n        let ed = year[1].valueOf();\n        if (ed > endDate.valueOf()) {\n          ed = endDate.valueOf();\n          sd = startOfMonth(subMonths(ed, 11)).valueOf();\n        }\n        let timeScaler = euiTimeScaler(sd, ed);\n        let value = convert(\n          totalTimeseries(filterTimeseries(data[k], sd, ed)) *\n            timeScaler /\n            area,\n          k,\n          \"energy\"\n        );\n        return {\n          type: k,\n          year: new Date(getYear(ed), 0).valueOf(),\n          value\n        };\n      })\n    );\n  return byType;\n};\nconst EUIByYear = (\n  data,\n  area,\n  startDate,\n  endDate,\n  limit = [],\n  baselineYear\n) => {\n  let years = new Array(differenceInYears(endDate, startDate) + 1)\n    .fill(0)\n    .map((v, i) => {\n      let y = new Date(startDate.getFullYear() + i, 0);\n      return [y, startOfMonth(endOfYear(y))];\n    });\n  let types = Object.keys(data).filter(\n    k =>\n      conversionFactors.hasOwnProperty(k) &&\n      conversionFactors[k].energy > 0 &&\n      limit.indexOf(k) === -1\n  );\n  let baseline = new Map(\n    types.map(t => [\n      t,\n      calcIntensity(\n        data,\n        t,\n        area,\n        baselineYear.valueOf(),\n        startOfMonth(endOfYear(baselineYear)).valueOf(),\n        limit,\n        true\n      )\n    ])\n  );\n  years = years.map(([start, end]) => [\n    start.valueOf(),\n    types.map(t => {\n      let value = calcIntensity(\n        data,\n        t,\n        area,\n        start.valueOf(),\n        end.valueOf(),\n        limit,\n        true\n      );\n      return {\n        type: t,\n        progress: calcProgress(value, baseline.get(t)),\n        value\n      };\n    })\n  ]);\n  return years;\n};\nconst calcBuildingEUI = (data, area) => {\n  let eui;\n  if (!data || !area) {\n    eui = {\n      year: 0,\n      month: 0\n    };\n  } else {\n    let yearStart = startOfYear(subYears(new Date(), 1)),\n      yearEnd = endOfYear(yearStart),\n      monthStart = startOfMonth(subMonths(new Date(), 2)),\n      monthEnd = endOfMonth(monthStart);\n    eui = {\n      year: calcEUI(data, area, yearStart, yearEnd) || 0,\n      month: calcEUI(data, area, monthStart, monthEnd) || 0\n    };\n  }\n  return eui;\n};\n\nexport {\n  calcScale,\n  chooseIcon,\n  validEmail,\n  toURLQuery,\n  parseQueryParams,\n  conversionFactors,\n  units,\n  convert,\n  capFirst,\n  replaceAll,\n  stringifyID,\n  formatNumber,\n  formatFloat,\n  formatPercent,\n  calcProgress,\n  normalize,\n  normalizeBack,\n  euiTimeScaler,\n  calcCVRMSE,\n  calcNMBE,\n  boxPlot,\n  minTimeseries,\n  maxTimeseries,\n  reduceTimeseries,\n  filterTimeseries,\n  groupTimeseries,\n  groupTimeseriesDay,\n  aggregateTimeSeries,\n  totalTimeseries,\n  averageTimeseries,\n  makeDailyTimeseries,\n  findMissingDays,\n  calcEUI,\n  calcBuildingEUI,\n  calcIntensity,\n  EUIByType,\n  EUIByYear,\n  calcMeterTotal,\n  cleanTimeseriesInterpolate,\n  dataStatistics,\n  uncleanTimeseries,\n  interpolateTimeseries,\n  maxTimeseriesWithDate,\n  valuesTimeseries,\n  timeseriesToXY,\n  cleanTimeseries,\n  isTimeseriesUniform,\n  monthlyValueWithTrend,\n  getLastTimestamp,\n  getFirstTimestamp,\n  preAllocateTimeseriesMinutes,\n  TimeseriesArrayToObject,\n  TimeseriesObjectToArray\n};\n","import {\n    blueGrey,\n    indigo,\n    green,\n    deepOrange,\n    brown,\n    amber,\n    orange,\n    blue,\n    lightGreen\n} from \"@material-ui/core/colors\";\n\nconst Meters = {\n    eui: {\n        type: \"eui\",\n        name: \"EUI\",\n        icon: \"account_balance\",\n        color: blueGrey,\n        units: \"kBtu/ft²\",\n        intensityUnits: \"kBtu/ft²\",\n        largeUnits: \"kBtu/ft²\",\n        demandUnits: \"kBtu/ft²/hr\",\n        largeDemandUnits: \"kBtu/ft²/hr\"\n    },\n    energy: {\n        type: \"energy\",\n        name: \"Total Energy\",\n        icon: \"account_balance\",\n        color: blueGrey,\n        units: \"kBtu\",\n        intensityUnits: \"kBtu/ft²\",\n        largeUnits: \"MBtu\",\n        demandUnits: \"kBtu/hr\",\n        largeDemandUnits: \"MBtu/hr\"\n    },\n    electricity: {\n        type: \"electricity\",\n        name: \"Electricity\",\n        icon: \"power\",\n        color: green,\n        units: \"kWh\",\n        intensityUnits: \"kWh/ft²\",\n        largeUnits: \"MWh\",\n        demandUnits: \"kW\",\n        largeDemandUnits: \"MW\"\n    },\n    steam: {\n        type: \"steam\",\n        name: \"Steam\",\n        icon: \"whatshot\",\n        color: deepOrange,\n        units: \"lbs\",\n        intensityUnits: \"lbs/ft²\",\n        largeUnits: \"1,000 lbs\",\n        demandUnits: \"lbs/hr\",\n        largeDemandUnits: \"1,000 lbs/hr\"\n    },\n    ng: {\n        type: \"ng\",\n        name: \"Natural Gas\",\n        icon: \"grain\",\n        color: orange,\n        units: \"Therms\",\n        intensityUnits: \"Therms/ft²\",\n        largeUnits: \"1,000 Therms\",\n        demandUnits: \"Therms/hr\",\n        largeDemandUnits: \"1,000 Therms/hr\"\n    },\n    chw: {\n        type: \"chw\",\n        name: \"Chilled Water\",\n        icon: \"ac_unit\",\n        color: indigo,\n        units: \"TonHrs\",\n        intensityUnits: \"TonHrs/ft²\",\n        largeUnits: \"1,000 TonHrs\",\n        demandUnits: \"Tons\",\n        largeDemandUnits: \"1,000 Tons\"\n    },\n    hw: {\n        type: \"hw\",\n        name: \"Hot Water\",\n        icon: \"invert_colors\",\n        color: amber,\n        units: \"kBtu\",\n        intensityUnits: \"kBtu/ft²\",\n        largeUnits: \"Mbtu\",\n        demandUnits: \"KBtu/hr\",\n        largeDemandUnits: \"MBtu/hr\"\n    },\n    water: {\n        type: \"water\",\n        name: \"Water\",\n        icon: \"opacity\",\n        color: blue,\n        units: \"gals\",\n        intensityUnits: \"gals/ft²\",\n        largeUnits: \"1,000 gals\",\n        demandUnits: \"gals/hr\",\n        largeDemandUnits: \"1,000 gals/hr\"\n    },\n    cost: {\n        type: \"cost\",\n        name: \"Cost\",\n        icon: \"attach_money\",\n        color: lightGreen,\n        units: \"$\",\n        intensityUnits: \"$/ft²\",\n        largeUnits: \"$1,000\",\n        demandUnits: \"$/hr\",\n        largeDemandUnits: \"1,000 $/hr\"\n    },\n    emissions: {\n        type: \"emissions\",\n        name: \"CO2e Emissions\",\n        icon: \"cloud\",\n        color: brown,\n        units: \"lbs CO2e\",\n        intensityUnits: \"lbs CO2e/ft²\",\n        largeUnits: \"1,000 lbs CO2e\",\n        demandUnits: \"CO2e/hr\",\n        largeDemandUnits: \"1,000 CO2e/hr\"\n    }\n};\n\nconst meterOrder = [\n    \"eui\",\n    \"energy\",\n    \"emissions\",\n    \"cost\",\n    \"electricity\",\n    \"steam\",\n    \"ng\",\n    \"chw\",\n    \"hw\",\n    \"water\"\n];\nconst simpleMeter = m => ({\n    _id: m._id,\n    type: m.type,\n    isSubMeter: m.isSubMeter,\n    isVirtualMeter: m.isVirtualMeter,\n    name: m.name,\n    units: m.units\n});\nconst sortMeters = (a, b) =>\n    meterOrder.indexOf(a) < meterOrder.indexOf(b) ? -1 : 1;\nconst getAvailableMeters = (buildings = [], total, emissions, cost) => {\n    let meters = [\n        ...new Set(\n            buildings\n                .map(b => Object.keys((b.data || {}).actual || {}))\n                .reduce((a, b) => a.concat(b), [])\n        )\n    ].sort(sortMeters);\n    if (emissions) meters.unshift(\"emissions\");\n    if (cost) meters.unshift(\"cost\");\n    if (total) meters.unshift(\"energy\");\n    return meters;\n};\n\nexport { Meters, meterOrder, sortMeters, getAvailableMeters, simpleMeter };\n","import * as utilities from \"./utilities.js\";\nimport * as meters from \"./meters.js\";\n\nexport default Object.assign({}, utilities, meters);\n"],"names":["min","max"],"mappings":"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"}